# SmartLock Tuya - Arquivo de Variáveis de Ambiente (.env)
# Copie este arquivo para .env e preencha com suas credenciais
# Gerado em: 23/10/2025 - Integração Stays

# ========================================
# Ambiente e Porta
# ========================================
NODE_ENV=development
PORT=3000
LOG_LEVEL=info

# ========================================
# Autenticação JWT e Session
# ========================================
JWT_SECRET=sua-chave-secreta-jwt-com-minimo-32-caracteres-aleatorios
SESSION_SECRET=sua-chave-secreta-sessao-com-minimo-32-caracteres-aleatorios

# ========================================
# TUYA CLOUD API (Integração existente)
# ========================================
# ⚠️ IMPORTANTE: As credenciais Tuya SÃO LIDAS DIRETAMENTE DO .env
# Obtenha estas em: https://iot.tuya.com/
# Não use o painel de configurações da aplicação para credenciais
TUYA_CLIENT_ID=seu_client_id_aqui
TUYA_CLIENT_SECRET=seu_client_secret_aqui
TUYA_REGION_HOST=openapi.tuyaus.com
# Outras opções de TUYA_REGION_HOST:
# - openapi.tuyaeu.com (Europa)
# - openapi.tuyacn.com (China)
# - openapi.tuyain.com (Índia)
# - openapi.tuyaus.com (EUA)

# ========================================
# PostgreSQL Database (Prisma ORM)
# ========================================
# URL de conexão do Prisma (recomendado)
DATABASE_URL=postgresql://tuya_admin:password@localhost:5432/tuya_locks_db?schema=public

# Alternativa: Configuração individual (usada pelo código legado)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=tuya_locks_db
DB_USER=tuya_admin
DB_PASSWORD=sua_senha_bd_aqui

# ========================================
# Redis (Cache e Sessões)
# ========================================
# Opção 1: URL completa do Redis
REDIS_URL=redis://localhost:6379

# Opção 2: Configuração individual
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD=sua-senha-redis-opcional

# ========================================
# API Stays - Integração (NOVO)
# ========================================
# ID e Secret obtidos no painel Stays
STAYS_CLIENT_ID=seu-client-id-stays
STAYS_CLIENT_SECRET=seu-client-secret-stays

# URL base da API Stays
STAYS_BASE_URL=https://api.staysapp.com

# Ativar modo MOCK para testes (true/false)
# Quando true, o cliente retorna dados fake sem fazer requisições reais
STAYS_ENABLE_MOCK=false

# Secret para validação de webhooks Stays (HMAC-SHA256)
STAYS_WEBHOOK_SECRET=sua-chave-secreta-para-validar-webhooks-stays

# ========================================
# Email (Para recuperação de senha e confirmação de conta)
# ========================================
EMAIL_SERVICE=smtp
EMAIL_HOST=smtp.hostinger.com
EMAIL_PORT=465
EMAIL_SECURE=true
EMAIL_USER=seu_email@dominio.com
EMAIL_PASSWORD=sua_senha_email_aqui

# Alternativa para Gmail:
# EMAIL_SERVICE=gmail
# EMAIL_USER=seu_email@gmail.com
# EMAIL_PASSWORD=sua_senha_app_aqui

# ========================================
# Aplicação
# ========================================
# URL pública da aplicação
APP_URL=http://localhost:3000

# ========================================
# Variáveis Adicionais (Opcional)
# ========================================
# Timeout padrão para requisições (em ms)
REQUEST_TIMEOUT=10000

# Número máximo de tentativas de retry
MAX_RETRIES=3
# URL DA APLICAÇÃO
# ============================================================
APP_URL=http://localhost:3000
# Para produção:
# APP_URL=https://seu_dominio.com

# ============================================================
# SEGURANÇA (JWT E SESSÃO)
# Gere chaves seguras com: openssl rand -base64 32
# ============================================================
JWT_SECRET=gerar_uma_chave_aleatoria_segura_com_minimo_32_caracteres
JWT_EXPIRES_IN=7d

SESSION_SECRET=gerar_outra_chave_aleatoria_segura_para_sessoes

# ============================================================
# FECHADURAS DE TESTE (OPCIONAL)
# Substitua pelos IDs reais dos seus dispositivos Tuya
# ============================================================
LOCK_1_ID=seu_device_id_1
LOCK_1_NAME=Nome da Fechadura 1
LOCK_1_LOCATION=Localização da Fechadura 1

LOCK_2_ID=seu_device_id_2
LOCK_2_NAME=Nome da Fechadura 2
LOCK_2_LOCATION=Localização da Fechadura 2